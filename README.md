# Customer-Behaviour-Analysis

## Overview

This project analyzes customer shopping behavior to identify revenue drivers, customer segments, and purchasing patterns.
It demonstrates an end-to-end data analytics workflow using **Python for data preparation and EDA**, **SQL for business analysis**, and **Power BI for interactive visualization**.

The objective is to support data-driven decisions related to product strategy, marketing, and customer retention.

---

## Dataset

* Rows: ~3,900
* Columns: 18
* Granularity: One row per customer transaction

### Key Attributes

* Customer: `customer_id`, `age`, `age_group`, `gender`, `location`
* Product: `category`, `item_purchased`, `size`, `color`, `season`
* Purchase: `purchase_amount`, `previous_purchases`, `frequency_of_purchases`
* Subscription & Promotions: `subscription_status`, `discount_applied`, `promo_code_used`
* Operations & Experience: `payment_method`, `shipping_type`, `review_rating`

---

## Python: Data Loading, Cleaning, and EDA

### Data Import

The dataset was loaded from a CSV file using Pandas. Initial checks were performed to understand the structure, data types, missing values, and overall data quality.

### Data Cleaning

* Verified that there were no critical missing values affecting analysis
* Handled missing values in `review_rating` using category-wise median imputation
* Standardized column names for consistency
* Ensured correct data types for numerical and categorical fields

### Feature Engineering

* Created an `age_group` column from the raw `age` field to support demographic analysis

### Exploratory Data Analysis (EDA)

EDA was conducted to identify patterns and trends, including:

* Revenue distribution across product categories
* Average purchase amount per transaction
* Subscription vs non-subscription customer distribution
* Revenue contribution by age group
* Overall customer satisfaction using review ratings

Key EDA observations guided the formulation of business questions addressed using SQL.

---

## SQL: Business Questions and Queries

### Q1. What is the total revenue generated by male vs female customers?

```sql
SELECT 
  gender,
  SUM(purchase_amount) AS total_revenue,
  ROUND(
    100.0 * SUM(purchase_amount) / SUM(SUM(purchase_amount)) OVER (),
    2
  ) AS revenue_share_pct
FROM customer
GROUP BY gender;
```

---

### Q2. Which customers used a discount but still spent more than the average purchase amount?

```sql
WITH cte AS (
  SELECT customer_id, SUM(purchase_amount) AS total_amount
  FROM customer
  WHERE discount_applied = 'Yes'
  GROUP BY customer_id
)
SELECT customer_id, total_amount
FROM cte
WHERE total_amount >
      (SELECT ROUND(AVG(purchase_amount)) FROM customer);
```

---

### Q3. Which are the top 5 products with the highest average review rating?

```sql
SELECT
  item_purchased,
  ROUND(AVG(review_rating)::NUMERIC, 2) AS avg_review_rating
FROM customer
GROUP BY item_purchased
ORDER BY avg_review_rating DESC
LIMIT 5;
```

---

### Q4. Compare the average purchase amounts between Standard and Express shipping.

```sql
SELECT
  shipping_type,
  ROUND(AVG(purchase_amount), 2) AS avg_purchase_amount
FROM customer
WHERE shipping_type IN ('Standard', 'Express')
GROUP BY shipping_type;
```

---

### Q5. Do subscribed customers spend more? Compare average spend and total revenue.

```sql
SELECT
  subscription_status,
  COUNT(DISTINCT customer_id) AS total_customers,
  ROUND(AVG(purchase_amount), 2) AS avg_purchase_amount,
  SUM(purchase_amount) AS total_revenue
FROM customer
GROUP BY subscription_status;
```

---

### Q6. Which 5 products have the highest percentage of purchases with discounts applied?

```sql
SELECT
  item_purchased,
  ROUND(
    100.0 * SUM(CASE WHEN discount_applied = 'Yes' THEN 1 ELSE 0 END) / COUNT(*),
    2
  ) AS discount_rate
FROM customer
GROUP BY item_purchased
ORDER BY discount_rate DESC
LIMIT 5;
```

---

### Q7. Segment customers into New, Returning, and Loyal based on previous purchases.

```sql
SELECT
  CASE
    WHEN previous_purchases < 10 THEN 'New'
    WHEN previous_purchases < 30 THEN 'Returning'
    ELSE 'Loyal'
  END AS customer_segment,
  COUNT(DISTINCT customer_id) AS total_customers
FROM customer
GROUP BY customer_segment;
```

---

### Q8. What are the top 3 most purchased products within each category?

```sql
WITH cte AS (
  SELECT
    category,
    item_purchased,
    COUNT(customer_id) AS total_order,
    ROW_NUMBER() OVER (
      PARTITION BY category
      ORDER BY COUNT(customer_id) DESC
    ) AS item_rank
  FROM customer
  GROUP BY category, item_purchased
)
SELECT category, item_purchased, total_order
FROM cte
WHERE item_rank <= 3;
```

---

### Q9. Are repeat buyers (more than 5 previous purchases) also likely to subscribe?

```sql
SELECT
  subscription_status,
  COUNT(DISTINCT customer_id) AS total_customers
FROM customer
WHERE previous_purchases > 5
GROUP BY subscription_status;
```

---

### Q10. What is the revenue contribution of each age group?

```sql
SELECT
  age_group,
  SUM(purchase_amount) AS total_revenue
FROM customer
GROUP BY age_group
ORDER BY total_revenue DESC;
```

---

## Power BI Dashboard Insights

<img width="1349" height="734" alt="Screenshot 2026-02-09 124148" src="https://github.com/user-attachments/assets/72285714-4267-4ec4-9bfa-b796a2967b81" />

An interactive Power BI dashboard was built to communicate insights to stakeholders. Key highlights include:

* KPIs showing total customers, average purchase amount, and average review rating
* Revenue and average purchase amount by product category
* Subscription distribution and revenue contribution
* Revenue by age group
* Interactive slicers for deeper segment analysis

---

## Key Findings

* Clothing is the highest revenue-generating category
* Footwear has a higher average order value per purchase
* Approximately 27% of customers are subscribed, yet they contribute significant revenue
* Average order value is around 60 USD
* Young adults generate the highest revenue among age groups

---

## Conclusion

This project demonstrates the ability to work with real-world data, apply Python for data preparation and EDA, use SQL for structured business analysis, and present insights through an interactive Power BI dashboard. The results support informed decisions across marketing, product strategy, and customer retention.
